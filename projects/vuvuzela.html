<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Projet: Débruitage de Vuvuzela &#8212; cheatsheet elec  documentation</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=96e0d561" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script src="../_static/documentation_options.js?v=8a448e45"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Cheatsheets" href="../cheatsheets/index.html" />
    <link rel="prev" title="Travail Collaboratif : Analyse des filtres d’ordre 2" href="second_order_analysis.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="light">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    <img src="../_static/logo.svg" class="logo__image only-light" alt="Logo image">
    <img src="../_static/logo.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../courses/index.html">
  Cours
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../tutorials/index.html">
  Tutorials
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  Projects
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../cheatsheets/index.html">
  Cheatsheets
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../about.html">
  About
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/vincentchoqueuse/cheatsheet_elec" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="analog_filter.html">
   Travail Collaboratif : Analog Filter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="second_order_analysis.html">
   Travail Collaboratif : Analyse des filtres d’ordre 2
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Projet: Débruitage de Vuvuzela
  </a>
 </li>
</ul>

  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#acquis-d-apprentissage-vises">
   Acquis d’Apprentissage Visés
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#description-du-travail">
   Description du travail
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#methodologie">
     Méthodologie
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#liste-des-filtres">
     Liste des filtres
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#filtres-passifs">
       Filtres Passifs
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#filtres-actifs">
       Filtres Actifs
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   Méthodologie
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aav1-etude-de-circuits-electronique-dordre-2">
     AAv1 (Étude de circuits électronique d’ordre 2)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aav4-design">
     AAv4 (Design)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aav5-restitution">
     AAv5 (Restitution)
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#utilisation-du-materiel">
   Utilisation du Matériel
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#generateur-sdg-1032x">
     Générateur SDG 1032X
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#oscilloscope-sds-1104x-e">
     Oscilloscope SDS 1104X-E
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#utilisation-avec-pyvisa">
     Utilisation avec PyVisa
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#installation">
       Installation
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#programme-de-test">
       Programme de Test
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#recuperation-des-courbes">
       Récuperation des courbes
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#recuperation-des-donnees">
       Récupération des données
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="projet-debruitage-de-vuvuzela">
<h1>Projet: Débruitage de Vuvuzela<a class="headerlink" href="#projet-debruitage-de-vuvuzela" title="Link to this heading">#</a></h1>
<section id="acquis-d-apprentissage-vises">
<h2>Acquis d’Apprentissage Visés<a class="headerlink" href="#acquis-d-apprentissage-vises" title="Link to this heading">#</a></h2>
<ul>
<li><p>AAv1 (Étude de circuits électronique d’ordre 2) : A l’issue du 4e semestre d’électronique, l’étudiant sera capable de déterminer sous forme analytique ou numérique les paramètres caractéristiques d’un circuit du 2nd ordre en fonction de la valeur de ses composants en déterminant au préalable sa fonction de transfert. Les paramètres caractéristiques comprennent:</p>
<blockquote>
<div><ul class="simple">
<li><p>le type de filtre;</p></li>
<li><p>le coefficient d’amplification;</p></li>
<li><p>la fréquence propre;</p></li>
<li><p>le coefficient d’amortissement.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>AAv4 (Design) : A l’issue du 4e semestre d’électronique, l’étudiant sera capable de proposer un circuit respectant un cahier des charges. Le cahier des charges sera spécifié sous la forme soit par de plusieurs paramètres caractéristiques d’une cellule d’ordre 2 (type, coefficient d’amplification, fréquence propre, coefficient d’amortissement) ou soit par un gabarit fréquentiel. L’étudiant sera en mesure de vérifier la conformité de sa proposition avec le cahier des charges en utilisant un logiciel de simulation (Python/Numpy/Scipy et LTspice).</p></li>
<li><p>AAv5 (Restitution) A l’issue du 4e semestre d’électronique, l’étudiant sera capable de rédiger un rapport de synthèse technique dans un support adapté comprenant du texte, des illustrations, du code, des résultats d’expérimentation en laboratoire.</p></li>
</ul>
</section>
<section id="description-du-travail">
<h2>Description du travail<a class="headerlink" href="#description-du-travail" title="Link to this heading">#</a></h2>
<p>Lors de la Coupe du Monde de Football en 2010, un phénomène sonore a marqué les téléspectateurs du monde entier : le bruit omniprésent du Vuvuzela. Originaire d’Afrique du Sud, cet instrument produit une tonalité continue, qui, bien qu’étant partie intégrante de l’ambiance festive, a parfois nui à la clarté des commentaires sportifs pendant la retransmission des matchs. Pour avoir un aperçu, vous pouvez écouter l’extrait suivant : <a class="reference external" href="https://www.youtube.com/watch?v=bKCIFXqhLzo">https://www.youtube.com/watch?v=bKCIFXqhLzo</a>.</p>
<p>Le défi de ce projet est de concevoir un filtre “anti-vuvuzela”. Votre mission sera d’atténuer spécifiquement les fréquences sonores produites par cet instrument afin de mettre en avant la qualité audio des commentaires. Le fichier audio à analyser et traiter est mis à votre disposition sur la plateforme Moodle.</p>
<section id="methodologie">
<h3>Méthodologie<a class="headerlink" href="#methodologie" title="Link to this heading">#</a></h3>
<p>En première approximation, un son de vuvuzela peut être modélisé mathématiquement comme une somme de sinusoîdes ayant des fréquences fixes dans le temps (signal stationnaire).</p>
<p>Pour supprimer le son de vuvuzela, une solution possible consiste alors à cascader filtres rejecteur d’ordre 2 convenable paramétrés. Chacun de ces filtres aura pour objectif de supprimer une composante fréquentielle particulière du son de vuvuzela. Pour implementer cette cascade de filtres, il est recommandé d’utiliser la stratégie suivante :</p>
<ul>
<li><p>Analyse du fichier sonore vuvuzela.wav</p>
<blockquote>
<div><ul class="simple">
<li><p>Détermination du nombre <span class="math notranslate nohighlight">\(l\)</span> de composantes sinusoïdales significatives,</p></li>
<li><p>Détermination des fréquences <span class="math notranslate nohighlight">\(f_l\)</span> pour <span class="math notranslate nohighlight">\(l=1, \cdots, L\)</span>,</p></li>
<li><p>Détermination approximative de  <span class="math notranslate nohighlight">\(m\)</span>.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>Mise en oeuvre du filtre :</p>
<blockquote>
<div><ul class="simple">
<li><p>choix d’une topologie de filtre rejecteur,</p></li>
<li><p>détermination des composants du filtre,</p></li>
<li><p>vérification sur Ltspice</p></li>
<li><p>implémentation du filtre et <strong>vérification du comportement fréquentiel</strong>.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="liste-des-filtres">
<h3>Liste des filtres<a class="headerlink" href="#liste-des-filtres" title="Link to this heading">#</a></h3>
<section id="filtres-passifs">
<h4>Filtres Passifs<a class="headerlink" href="#filtres-passifs" title="Link to this heading">#</a></h4>
<figure class="align-default" id="id2">
<img alt="RLC" src="../_images/RLC.svg" /><figcaption>
<p><span class="caption-text">Filtre RLC Notch</span><a class="headerlink" href="#id2" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id3">
<img alt="RLC" src="../_images/twin_T.svg" /><figcaption>
<p><span class="caption-text">Filtre Twin-T</span><a class="headerlink" href="#id3" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="filtres-actifs">
<h4>Filtres Actifs<a class="headerlink" href="#filtres-actifs" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Twin T Notch Filter: <a class="reference external" href="https://www.analog.com/media/en/training-seminars/tutorials/MT-225.pdf">https://www.analog.com/media/en/training-seminars/tutorials/MT-225.pdf</a></p></li>
<li><p>Bainter Notch Filters: <a class="reference external" href="https://www.analog.com/media/en/training-seminars/tutorials/MT-203.pdf">https://www.analog.com/media/en/training-seminars/tutorials/MT-203.pdf</a></p></li>
</ul>
</section>
</section>
</section>
<section id="id1">
<h2>Méthodologie<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<p>Le travail réalisé dans ce projet doit vous permettre d’acquérir un certain nombre d’apprentissages.
La notation du projet sera basée sur la validation des acquis d’apprentissage suivants.</p>
<section id="aav1-etude-de-circuits-electronique-dordre-2">
<h3>AAv1 (Étude de circuits électronique d’ordre 2)<a class="headerlink" href="#aav1-etude-de-circuits-electronique-dordre-2" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>A l’issue du 4e semestre d’électronique, l’étudiant sera capable de déterminer sous forme analytique ou numérique les paramètres caractéristiques d’un circuit du 2nd ordre en fonction de la valeur de ses composants en déterminant au préalable sa fonction de transfert.</p></li>
</ul>
<p>Pour atteindre cet objectif, vous devrez être en mesure de :</p>
<blockquote>
<div><ul class="simple">
<li><p>Calculer la fonction de transfert de plusieurs filtres rejecteurs.</p></li>
<li><p>Déterminer pour chaque filtre : le coefficient d’amplification, la fréquence propre, le coefficient d’amortissement.</p></li>
</ul>
</div></blockquote>
</section>
<section id="aav4-design">
<h3>AAv4 (Design)<a class="headerlink" href="#aav4-design" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>A l’issue du 4e semestre d’électronique, l’étudiant sera capable de proposer un circuit respectant un cahier des charges. Le cahier des charges sera spécifié sous la forme soit par de plusieurs paramètres caractéristiques d’une cellule d’ordre 2 (type, coefficient d’amplification, fréquence propre, coefficient d’amortissement) ou soit par un gabarit fréquentiel. L’étudiant sera en mesure de vérifier la conformité de sa proposition avec le cahier des charges en utilisant un logiciel de simulation (Python/Numpy/Scipy et LTspice).</p></li>
</ul>
<p>Pour atteindre cet objectif, vous devrez être en mesure de :</p>
<blockquote>
<div><ul class="simple">
<li><p>Traduire le besoin sous la forme d’un cahier des charges contenant plusieurs spécifications,</p></li>
<li><p>Choisir la topologie de filtre appropriée,</p></li>
<li><p>Calculer les valeurs des composants : Vous devrez être en mesure de calculer efficacement les valeurs des composants tels que les résistances, les condensateurs, etc. pour réaliser la topologie de filtre choisie.</p></li>
<li><p>Valider le comportement du filtre : Vous devrez être en mesure de vérifier la réponse fréquentielle du filtre en fonction des spécifications du cahier des charges. Cette validation sera réalisée en utilisant des outils de simulations de circuit ET <strong>des mesures en laboratoire et en mesurant certains paramètres clé de la réponse fréquentielle</strong>.</p></li>
<li><p>Optimiser le filtre : Si la réponse du filtre ne répond pas aux spécifications du cahier des charges, vous devrez être en mesure d’optimiser le filtre en ajustant les valeurs des composants ou en choisissant une topologie de filtre différente.</p></li>
<li><p>Présenter les résultats des différents filtres audio de manière claire et synthétique.</p></li>
<li><p>Comparer les performances des différents filtres et identifier leurs limites.</p></li>
</ul>
</div></blockquote>
</section>
<section id="aav5-restitution">
<h3>AAv5 (Restitution)<a class="headerlink" href="#aav5-restitution" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>A l’issue du 4e semestre d’électronique, l’étudiant sera capable de rédiger un rapport de synthèse technique dans un support adapté comprenant du texte, des illustrations, du code, des résultats d’expérimentation en laboratoire.</p></li>
</ul>
<p>Pour atteindre cet objectif, vous devrez être en mesure de :</p>
<blockquote>
<div><ul class="simple">
<li><p>Comprendre les besoins du lecteur et d’adapter son rapport en conséquence.</p></li>
<li><p>Utiliser un support adapté pour votre restitution respectant des contraintes de sobriété numérique (taille raisonnable) et de confidentialité (travail uniquement communiqué aux membres du binôme et à l’enseignant),</p></li>
<li><p>Maîtriser la structure du rapport de synthèse technique : L’étudiant sera capable de créer une structure de rapport claire et logique, en utilisant des titres et des sous-titres appropriés pour faciliter la lecture et la compréhension du contenu.</p></li>
<li><p>Maîtriser les compétences de rédaction : L’étudiant sera capable d’écrire un texte clair et concis, en utilisant un langage technique adapté, sans ambiguïté ni erreurs d’orthographe ou grammaticales.</p></li>
<li><p>Intégrer des illustrations et des images : L’étudiant sera en mesure d’intégrer des illustrations, des images et des graphiques pertinents pour améliorer la compréhension du contenu et rendre le rapport plus attractif.</p></li>
<li><p>Intégrer du code informatique : L’étudiant sera en mesure d’intégrer du code informatique pertinent dans son rapport et d’expliquer de manière claire le fonctionnement du code et les résultats obtenus.</p></li>
<li><p>Rédiger des résultats d’expérimentation : L’étudiant sera capable de synthétiser des résultats d’expérimentation en laboratoire de manière précise et critique, en utilisant des graphiques et des images pour faciliter la compréhension des résultats.</p></li>
<li><p>(Respecter les normes de citation : L’étudiant sera en mesure de respecter les normes de citation et d’utiliser les références appropriées pour citer les sources consultées lors de la rédaction du rapport).</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="utilisation-du-materiel">
<h2>Utilisation du Matériel<a class="headerlink" href="#utilisation-du-materiel" title="Link to this heading">#</a></h2>
<section id="generateur-sdg-1032x">
<h3>Générateur SDG 1032X<a class="headerlink" href="#generateur-sdg-1032x" title="Link to this heading">#</a></h3>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/awg.jpg"><img alt="AWG" src="../_images/awg.jpg" style="width: 300px;" /></a>
</figure>
<ul class="simple">
<li><p>documentation: <a class="reference external" href="https://siglentna.com/wp-content/uploads/dlm_uploads/2021/01/SDG1000-Service-Manual_SM02010-E01C.pdf">https://siglentna.com/wp-content/uploads/dlm_uploads/2021/01/SDG1000-Service-Manual_SM02010-E01C.pdf</a></p></li>
<li><p>programming guide: <a class="reference external" href="https://siglentna.com/wp-content/uploads/dlm_uploads/2023/01/SDG_Programming-Guide_PG02-E05A-12.pdf">https://siglentna.com/wp-content/uploads/dlm_uploads/2023/01/SDG_Programming-Guide_PG02-E05A-12.pdf</a></p></li>
</ul>
</section>
<section id="oscilloscope-sds-1104x-e">
<h3>Oscilloscope SDS 1104X-E<a class="headerlink" href="#oscilloscope-sds-1104x-e" title="Link to this heading">#</a></h3>
<figure class="align-default">
<a class="reference internal image-reference" href="../_images/oscillo.jpg"><img alt="AWG" src="../_images/oscillo.jpg" style="width: 300px;" /></a>
</figure>
<ul class="simple">
<li><p>documentation: <a class="reference external" href="https://siglentna.com/USA_website_2014/Documents/UserManual/SDS1000X&amp;Xplus_UserManual_UM0101X-E02A.pdf">https://siglentna.com/USA_website_2014/Documents/UserManual/SDS1000X&amp;Xplus_UserManual_UM0101X-E02A.pdf</a></p></li>
<li><p>programming guide: <a class="reference external" href="https://int.siglent.com/u_file/document/SDS1000%20Series&amp;SDS2000X&amp;SDS2000X-E_ProgrammingGuide_PG01-E02D.pdf">https://int.siglent.com/u_file/document/SDS1000%20Series&amp;SDS2000X&amp;SDS2000X-E_ProgrammingGuide_PG01-E02D.pdf</a></p></li>
</ul>
</section>
<section id="utilisation-avec-pyvisa">
<h3>Utilisation avec PyVisa<a class="headerlink" href="#utilisation-avec-pyvisa" title="Link to this heading">#</a></h3>
<section id="installation">
<h4>Installation<a class="headerlink" href="#installation" title="Link to this heading">#</a></h4>
<p>Pour communiquer avec le matériel en salle de TP, une solution consiste à utiliser le driver NI-VISA</p>
<ul class="simple">
<li><p>Installation de l’outil NI-VISA: <a class="reference external" href="https://www.ni.com/fr-fr/support/downloads/drivers/download.ni-visa.html#464578">https://www.ni.com/fr-fr/support/downloads/drivers/download.ni-visa.html#464578</a></p></li>
<li><p>Installation de la librairie python <cite>pyvisa</cite> permettant d’utiliser le driver</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">pyvisa</span>
</pre></div>
</div>
</section>
<section id="programme-de-test">
<h4>Programme de Test<a class="headerlink" href="#programme-de-test" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyvisa</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">rm</span> <span class="o">=</span> <span class="n">pyvisa</span><span class="o">.</span><span class="n">ResourceManager</span><span class="p">()</span>
<span class="n">ressources</span> <span class="o">=</span> <span class="n">rm</span><span class="o">.</span><span class="n">list_resources</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;liste des ressources: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ressources</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ressource chargée: instrument </span><span class="si">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ressources</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span> <span class="c1">#chez moi, c&#39;est la dernière ressource</span>

<span class="n">sds</span> <span class="o">=</span> <span class="n">rm</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span><span class="n">ressources</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">sds</span><span class="o">.</span><span class="n">timeout</span> <span class="o">=</span> <span class="mi">30000</span>
<span class="n">sds</span><span class="o">.</span><span class="n">chunk_size</span> <span class="o">=</span> <span class="mi">20</span><span class="o">*</span><span class="mi">1024</span><span class="o">*</span><span class="mi">1024</span>
<span class="n">sds</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;chdr off&quot;</span><span class="p">)</span> <span class="c1"># control oscilloscope response format (no string header)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;ID: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">sds</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;*IDN?&quot;</span><span class="p">)))</span>
</pre></div>
</div>
</section>
<section id="recuperation-des-courbes">
<h4>Récuperation des courbes<a class="headerlink" href="#recuperation-des-courbes" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">save_image</span><span class="p">(</span><span class="n">sds</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
    <span class="n">sds</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;SCDP&quot;</span><span class="p">)</span>
    <span class="n">result_str</span> <span class="o">=</span> <span class="n">sds</span><span class="o">.</span><span class="n">read_raw</span><span class="p">()</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s1">&#39;wb&#39;</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">result_str</span><span class="p">)</span>
    <span class="n">f</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>
    <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">save_image</span><span class="p">(</span><span class="n">sds</span><span class="p">,</span> <span class="s2">&quot;mon_image.bmp&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="recuperation-des-donnees">
<h4>Récupération des données<a class="headerlink" href="#recuperation-des-donnees" title="Link to this heading">#</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_signal</span><span class="p">(</span><span class="n">sds</span><span class="p">,</span> <span class="n">channel</span><span class="o">=</span><span class="s2">&quot;C1&quot;</span><span class="p">):</span>

    <span class="n">vdiv</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">sds</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;c1:vdiv?&quot;</span><span class="p">))</span>
    <span class="n">offset</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">sds</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;c1:ofst?&quot;</span><span class="p">))</span>
    <span class="n">tdiv</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">sds</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;tdiv?&quot;</span><span class="p">))</span>
    <span class="n">f_s</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">sds</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;sara?&quot;</span><span class="p">))</span>
    <span class="n">sds</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">:wf? dat2&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">channel</span><span class="p">))</span>
    <span class="n">recv</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">sds</span><span class="o">.</span><span class="n">read_raw</span><span class="p">())[</span><span class="mi">15</span><span class="p">:]</span>
    <span class="n">recv</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
    <span class="n">recv</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

    <span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">recv</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">-</span> <span class="mi">256</span><span class="o">*</span><span class="p">(</span><span class="n">s</span><span class="o">&gt;</span><span class="mi">127</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">/</span><span class="mi">25</span><span class="o">*</span><span class="n">vdiv</span> <span class="o">-</span> <span class="n">offset</span>
    <span class="n">t</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="n">tdiv</span><span class="o">*</span><span class="mi">7</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span><span class="o">/</span><span class="n">f_s</span>
    <span class="k">return</span> <span class="n">t</span><span class="p">,</span> <span class="n">s</span>

<span class="n">t</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="n">get_signal</span><span class="p">(</span><span class="n">sds</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Time [s]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;CH1 [V]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="second_order_analysis.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Travail Collaboratif : Analyse des filtres d’ordre 2</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="../cheatsheets/index.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Cheatsheets</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2022, V. Choqueuse.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>